/* 全局样式重置和基础设置 */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    user-select: none;
    cursor: default;
    overflow: hidden;
}

/* 工作状态 - 温暖活力的红橙色调 */
.work-mode {
    background: linear-gradient(135deg, #FF6B6B 0%, #FF8E53 100%);
}

/* 短休息状态 - 舒缓清新的绿蓝色调 */
.short-break-mode {
    background: linear-gradient(135deg, #4ECDC4 0%, #45B7D1 100%);
}

/* 长休息状态 - 深邃宁静的蓝紫色调 */
.long-break-mode {
    background: linear-gradient(135deg, #6C5CE7 0%, #74B9FF 100%);
}

/* 准备状态 - 中性温和的灰蓝色调 */
.ready-mode {
    background: linear-gradient(135deg, #636e72 0%, #74b9ff 100%);
}

/* 暂停状态 - 较暗的变体 */
.paused-mode {
    background: linear-gradient(135deg, #2d3436 0%, #636e72 100%);
}

/* 时钟数字发光效果 */
.timer-glow {
    text-shadow: 0 0 20px rgba(255, 255, 255, 0.5),
                 0 0 40px rgba(255, 255, 255, 0.3),
                 0 0 60px rgba(255, 255, 255, 0.2);
    animation: breathe 4s ease-in-out infinite;
}

/* 呼吸动画 */
@keyframes breathe {
    0%, 100% {
        transform: scale(1);
        text-shadow: 0 0 20px rgba(255, 255, 255, 0.5),
                     0 0 40px rgba(255, 255, 255, 0.3),
                     0 0 60px rgba(255, 255, 255, 0.2);
    }
    50% {
        transform: scale(1.02);
        text-shadow: 0 0 25px rgba(255, 255, 255, 0.6),
                     0 0 50px rgba(255, 255, 255, 0.4),
                     0 0 75px rgba(255, 255, 255, 0.3);
    }
}

/* 暂停时停止呼吸动画 */
.timer-paused {
    animation-play-state: paused;
}

/* 按钮悬停效果增强 */
button {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

button:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
}

button:active {
    transform: translateY(0);
    transition: transform 0.1s;
}

/* 进度环动画 */
#progress-ring {
    transition: stroke-dashoffset 1s ease-linear;
}

/* 状态指示点样式 */
.status-dot-work {
    background-color: #FF6B6B;
    box-shadow: 0 0 10px rgba(255, 107, 107, 0.6);
}

.status-dot-short-break {
    background-color: #4ECDC4;
    box-shadow: 0 0 10px rgba(78, 205, 196, 0.6);
}

.status-dot-long-break {
    background-color: #6C5CE7;
    box-shadow: 0 0 10px rgba(108, 92, 231, 0.6);
}

.status-dot-ready {
    background-color: #74b9ff;
    box-shadow: 0 0 10px rgba(116, 185, 255, 0.6);
}

/* 会话指示器活动状态 */
.session-active {
    background-color: white !important;
    box-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
    transform: scale(1.2);
}

/* 设置模态框动画 */
#settings-modal {
    transition: all 0.3s ease-in-out;
}

#settings-modal.show {
    display: flex !important;
}

/* 模态框内容动画 */
#settings-modal > div {
    transform: scale(0.9);
    opacity: 0;
    transition: all 0.3s ease-in-out;
}

#settings-modal.show > div {
    transform: scale(1);
    opacity: 1;
}

/* 隐藏鼠标 (专注模式) */
.hide-cursor {
    cursor: none;
}

.hide-cursor * {
    cursor: none !important;
}

/* 移动端优化 */
@media (max-width: 640px) {
    .timer-glow {
        font-size: 3rem !important;
    }
    
    #main-container .relative.w-80.h-80 {
        width: 250px !important;
        height: 250px !important;
    }
    
    #main-container svg {
        width: 250px !important;
        height: 250px !important;
    }
    
    .absolute.top-8 {
        top: 1rem !important;
    }
    
    .absolute.bottom-8 {
        bottom: 1rem !important;
        font-size: 0.75rem !important;
    }
    
    /* 移动端隐藏键盘提示 */
    .absolute.bottom-8 {
        display: none;
    }
}

/* 高对比度模式支持 */
@media (prefers-contrast: high) {
    .timer-glow {
        text-shadow: none;
        color: #000;
    }
    
    .work-mode {
        background: #FF4444;
    }
    
    .short-break-mode {
        background: #00AA88;
    }
    
    .long-break-mode {
        background: #4444FF;
    }
}

/* 减少动画（用户偏好） */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
    
    .timer-glow {
        animation: none;
    }
}

/* 聚焦模式下的样式调整 */
.focus-mode .absolute.top-8,
.focus-mode .absolute.top-20,
.focus-mode .absolute.bottom-8 {
    opacity: 0.3;
    transition: opacity 0.3s ease-in-out;
}

.focus-mode:hover .absolute.top-8,
.focus-mode:hover .absolute.top-20,
.focus-mode:hover .absolute.bottom-8 {
    opacity: 1;
}

/* 自定义滚动条 */
::-webkit-scrollbar {
    width: 6px;
}

::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1);
}

::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.3);
    border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.5);
}

/* 键盘导航焦点样式 */
button:focus-visible {
    outline: 2px solid rgba(255, 255, 255, 0.7);
    outline-offset: 2px;
}

/* 无障碍增强 */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

/* 成功完成动画 */
@keyframes celebration {
    0%, 100% {
        transform: scale(1) rotate(0deg);
    }
    25% {
        transform: scale(1.1) rotate(3deg);
    }
    75% {
        transform: scale(1.1) rotate(-3deg);
    }
}

.celebration {
    animation: celebration 0.6s ease-in-out;
}

/* 开始工作前的准备动画 */
@keyframes prepare {
    0% {
        transform: scale(1);
        opacity: 1;
    }
    50% {
        transform: scale(1.05);
        opacity: 0.8;
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}

.prepare-animation {
    animation: prepare 1s ease-in-out 3;
} 